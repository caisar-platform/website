.. _installation:

Installation
============

The latest release of CAISAR is available as an
`opam <https://opam.ocaml.org/>`_ package or
a `Docker <https://www.docker.com/>`_ image.

The development version of CAISAR is available only by compiling the source code.
CAISAR needs access to a ``python3`` interpreter, which is
a default in all major GNU/Linux distributions.

Install through Opam
--------------------

This method requires requires the OCaml package manager
(Opam) v2.1 or higher to be installed in your system.
It is typically avaible in all major GNU/Linux distributions.

To install CAISAR via opam, do the following:

.. code-block:: console

   $ opam install caisar

Install through Docker
----------------------

This method requires Docker to be installed in your system.
A ready-to-use Docker image of CAISAR is available on
`Docker Hub <https://hub.docker.com>`_. To retrieve it, do the
following:

.. code-block:: console

   $ docker pull laiser/caisar:pub

Alternatively, a Docker image for CAISAR can be
created locally by proceeding as follows:

.. code-block:: console

   $ git clone https://git.frama-c.com/pub/caisar
   $ cd caisar
   $ make docker

To run the CAISAR Docker image, do the following:

.. code-block:: console

   $ docker run -it laiser/caisar:pub sh

Compile from source
-------------------

To build and install CAISAR, do the following (this may take
some time, as it will download a full OCaml toolchain,
required dependencies and compile them):

.. code-block:: console

   $ git clone https://git.frama-c.com/pub/caisar
   $ cd caisar
   $ opam switch create --yes --no-install . 4.13.1
   $ opam install . --deps-only --with-test --yes
   $ make
   $ make install

To run the tests:

.. code-block:: console

   $ make test
